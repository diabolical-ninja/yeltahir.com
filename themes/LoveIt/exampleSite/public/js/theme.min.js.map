{"version":3,"file":"theme.min.js","names":["Util","forEach","elements","handler","i","length","getScrollTop","document","documentElement","scrollTop","body","isMobile","window","matchMedia","matches","isTocStatic","animateCSS","element","animation","reserved","callback","Array","isArray","classList","add","remove","removeEventListener","addEventListener","Theme","constructor","config","data","isDark","getAttribute","util","newScrollTop","oldScrollTop","scrollEventSet","Set","resizeEventSet","switchThemeEventSet","clickMaskEventSet","objectFitImages","initSVGIcon","querySelectorAll","$icon","fetch","then","response","text","svg","$temp","createElement","insertAdjacentHTML","$svg","firstChild","setAttribute","$titleElements","getElementsByTagName","removeChild","parentElement","replaceChild","catch","err","console","error","initTwemoji","twemoji","parse","initMenuMobile","$menuToggleMobile","getElementById","$menuMobile","toggle","_menuMobileOnClickMask","initSwitchTheme","getElementsByClassName","$themeSwitch","localStorage","setItem","event","initSearch","searchConfig","search","_searchMobileOnce","_searchDesktopOnce","maxResultLength","snippetLength","highlightTag","suffix","$header","$searchInput","$searchToggle","$searchLoading","$searchClear","style","display","_searchMobile","autocomplete","setVal","_searchMobileOnClickMask","focus","_searchDesktop","_searchDesktopOnClickMask","value","initAutosearch","autosearch","hint","autoselect","dropdownMenuContainer","clearOnSelected","cssClasses","noPrefix","debug","name","source","query","finish","results","type","lunr","queryHandler","_index","ref","matchData","metadata","_indexData","uri","title","content","context","position","Object","values","matchPosition","substr","lastIndexOf","keys","key","replace","RegExp","date","slice","lunrIndexURL","json","indexData","lunrLanguageCode","use","field","boost","metadataWhitelist","record","objectID","_algoliaIndex","algoliasearch","algoliaAppID","algoliaSearchKey","initIndex","algoliaIndex","offset","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","hits","_highlightResult","_snippetResult","templates","suggestion","empty","noResultsFound","footer","searchType","icon","href","on","_event","_dataset","_context","location","assign","lunrSegmentitURL","script","id","src","async","readyState","onreadystatechange","onload","appendChild","initDetails","$details","$summary","initLightGallery","lightGallery","initHighlight","$preChroma","$chroma","className","$table","$tbody","$tr","$td","$codeElements","$code","toLowerCase","$title","$ellipses","$copy","code","innerText","maxShownLines","split","copyTitle","clipboard","ClipboardJS","_e","insertBefore","initTable","$wrapper","initHeaderLink","num","initToc","$tocCore","$tocContentStatic","_tocOnScroll","delete","$tocContentAuto","$toc","$page","rect","getBoundingClientRect","left","width","maxWidth","visibility","$tocLinkElements","$tocLiElements","$headerLinkElements","headerIsFixed","headerHeight","offsetHeight","TOP_SPACING","minTocTop","offsetTop","minScrollTop","footerTop","maxTocTop","height","maxScrollTop","top","$tocLink","$tocLi","INDEX_SPACING","activeTocIndex","thisTop","nextTop","$parent","initMath","math","renderMathInElement","initMermaid","$mermaidElements","mermaid","initialize","startOnLoad","theme","$mermaid","mermaidAPI","render","svgCode","initEcharts","_echartsOnSwitchTheme","_echartsArr","dispose","$echarts","chart","echarts","init","renderer","setOption","JSON","push","_echartsOnResize","resize","initMapbox","mapbox","mapboxgl","accessToken","setRTLTextPlugin","RTLTextPlugin","_mapboxArr","$mapbox","lng","lat","zoom","lightStyle","darkStyle","marked","navigation","geolocate","scale","fullscreen","Map","container","center","minZoom","attributionControl","Marker","setLngLat","addTo","addControl","NavigationControl","GeolocateControl","positionOptions","enableHighAccuracy","showUserLocation","trackUserLocation","ScaleControl","FullscreenControl","MapboxLanguage","_mapboxOnSwitchTheme","getContainer","setStyle","initTypeit","typeit","typeitConfig","speed","cursorSpeed","cursorChar","group","typeone","instance","TypeIt","strings","lifeLike","waitUntilVisible","afterComplete","duration","setTimeout","destroy","go","initComment","comment","gitalk","decodeURI","Gitalk","valine","Valine","utterances","utterancesConfig","repo","issueTerm","label","darkTheme","lightTheme","crossOrigin","_utterancesOnSwitchTheme","message","iframe","querySelector","contentWindow","postMessage","initSmoothScroll","SmoothScroll","speedAsDuration","header","initCookieconsent","cookieconsent","initialise","onScroll","$headers","$viewComments","$fixedButtons","ACCURACY","MINIMUM","scroll","onResize","_resizeTimeout","onClickMask","themeInit"],"sources":["../../src/js/theme.js"],"sourcesContent":["class Util {\n    forEach(elements, handler) {\n        elements = elements || [];\n        for (let i = 0; i < elements.length; i++) handler(elements[i]);\n    }\n\n    getScrollTop() {\n        return (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\n    }\n\n    isMobile() {\n        return window.matchMedia('only screen and (max-width: 680px)').matches;\n    }\n\n    isTocStatic() {\n        return window.matchMedia('only screen and (max-width: 960px)').matches;\n    }\n\n    animateCSS(element, animation, reserved, callback) {\n        if (!Array.isArray(animation)) animation = [animation];\n        element.classList.add('animated', ...animation);\n        const handler = () => {\n            element.classList.remove('animated', ...animation);\n            element.removeEventListener('animationend', handler);\n            if (typeof callback === 'function') callback();\n        };\n        if (!reserved) element.addEventListener('animationend', handler, false);\n    }\n}\n\nclass Theme {\n    constructor() {\n        this.config = window.config;\n        this.data = this.config.data;\n        this.isDark = document.body.getAttribute('theme') === 'dark';\n        this.util = new Util();\n        this.newScrollTop = this.util.getScrollTop();\n        this.oldScrollTop = this.newScrollTop;\n        this.scrollEventSet = new Set();\n        this.resizeEventSet = new Set();\n        this.switchThemeEventSet = new Set();\n        this.clickMaskEventSet = new Set();\n        if (window.objectFitImages) objectFitImages();\n    }\n\n    initSVGIcon() {\n        this.util.forEach(document.querySelectorAll('[data-svg-src]'), $icon => {\n            fetch($icon.getAttribute('data-svg-src'))\n                .then(response => response.text())\n                .then(svg => {\n                    const $temp = document.createElement('div');\n                    $temp.insertAdjacentHTML('afterbegin', svg);\n                    const $svg = $temp.firstChild;\n                    $svg.setAttribute('data-svg-src', $icon.getAttribute('data-svg-src'));\n                    $svg.classList.add('icon');\n                    const $titleElements = $svg.getElementsByTagName('title');\n                    if ($titleElements.length) $svg.removeChild($titleElements[0]);\n                    $icon.parentElement.replaceChild($svg, $icon);\n                })\n                .catch(err => { console.error(err); });\n        });\n    }\n\n    initTwemoji() {\n        if (this.config.twemoji) twemoji.parse(document.body);\n    }\n\n    initMenuMobile() {\n        const $menuToggleMobile = document.getElementById('menu-toggle-mobile');\n        const $menuMobile = document.getElementById('menu-mobile');\n        $menuToggleMobile.addEventListener('click', () => {\n            document.body.classList.toggle('blur');\n            $menuToggleMobile.classList.toggle('active');\n            $menuMobile.classList.toggle('active');\n        }, false);\n        this._menuMobileOnClickMask = this._menuMobileOnClickMask || (() => {\n            $menuToggleMobile.classList.remove('active');\n            $menuMobile.classList.remove('active');\n        });\n        this.clickMaskEventSet.add(this._menuMobileOnClickMask);\n    }\n\n    initSwitchTheme() {\n        this.util.forEach(document.getElementsByClassName('theme-switch'), $themeSwitch => {\n            $themeSwitch.addEventListener('click', () => {\n                if (document.body.getAttribute('theme') === 'dark') document.body.setAttribute('theme', 'light');\n                else document.body.setAttribute('theme', 'dark');\n                this.isDark = !this.isDark;\n                window.localStorage && localStorage.setItem('theme', this.isDark ? 'dark' : 'light');\n                for (let event of this.switchThemeEventSet) event();\n            }, false);\n        });\n    }\n\n    initSearch() {\n        const searchConfig = this.config.search;\n        const isMobile = this.util.isMobile();\n        if (!searchConfig || isMobile && this._searchMobileOnce || !isMobile && this._searchDesktopOnce) return;\n\n        const maxResultLength = searchConfig.maxResultLength ? searchConfig.maxResultLength : 10;\n        const snippetLength = searchConfig.snippetLength ? searchConfig.snippetLength : 50;\n        const highlightTag = searchConfig.highlightTag ? searchConfig.highlightTag : 'em';\n\n        const suffix = isMobile ? 'mobile' : 'desktop';\n        const $header = document.getElementById(`header-${suffix}`);\n        const $searchInput = document.getElementById(`search-input-${suffix}`);\n        const $searchToggle = document.getElementById(`search-toggle-${suffix}`);\n        const $searchLoading = document.getElementById(`search-loading-${suffix}`);\n        const $searchClear = document.getElementById(`search-clear-${suffix}`);\n        if (isMobile) {\n            this._searchMobileOnce = true;\n            $searchInput.addEventListener('focus', () => {\n                document.body.classList.add('blur');\n                $header.classList.add('open');\n            }, false);\n            document.getElementById('search-cancel-mobile').addEventListener('click', () => {\n                $header.classList.remove('open');\n                document.body.classList.remove('blur');\n                document.getElementById('menu-toggle-mobile').classList.remove('active');\n                document.getElementById('menu-mobile').classList.remove('active');\n                $searchLoading.style.display = 'none';\n                $searchClear.style.display = 'none';\n                this._searchMobile && this._searchMobile.autocomplete.setVal('');\n            }, false);\n            $searchClear.addEventListener('click', () => {\n                $searchClear.style.display = 'none';\n                this._searchMobile && this._searchMobile.autocomplete.setVal('');\n            }, false);\n            this._searchMobileOnClickMask = this._searchMobileOnClickMask || (() => {\n                $header.classList.remove('open');\n                $searchLoading.style.display = 'none';\n                $searchClear.style.display = 'none';\n                this._searchMobile && this._searchMobile.autocomplete.setVal('');\n            });\n            this.clickMaskEventSet.add(this._searchMobileOnClickMask);\n        } else {\n            this._searchDesktopOnce = true;\n            $searchToggle.addEventListener('click', () => {\n                document.body.classList.add('blur');\n                $header.classList.add('open');\n                $searchInput.focus();\n            }, false);\n            $searchClear.addEventListener('click', () => {\n                $searchClear.style.display = 'none';\n                this._searchDesktop && this._searchDesktop.autocomplete.setVal('');\n            }, false);\n            this._searchDesktopOnClickMask = this._searchDesktopOnClickMask || (() => {\n                $header.classList.remove('open');\n                $searchLoading.style.display = 'none';\n                $searchClear.style.display = 'none';\n                this._searchDesktop && this._searchDesktop.autocomplete.setVal('');\n            });\n            this.clickMaskEventSet.add(this._searchDesktopOnClickMask);\n        }\n        $searchInput.addEventListener('input', () => {\n            if ($searchInput.value === '') $searchClear.style.display = 'none';\n            else $searchClear.style.display = 'inline';\n        }, false);\n\n        const initAutosearch = () => {\n            const autosearch = autocomplete(`#search-input-${suffix}`, {\n                hint: false,\n                autoselect: true,\n                dropdownMenuContainer: `#search-dropdown-${suffix}`,\n                clearOnSelected: true,\n                cssClasses: { noPrefix: true },\n                debug: true,\n            }, {\n                name: 'search',\n                source: (query, callback) => {\n                    $searchLoading.style.display = 'inline';\n                    $searchClear.style.display = 'none';\n                    const finish = (results) => {\n                        $searchLoading.style.display = 'none';\n                        $searchClear.style.display = 'inline';\n                        callback(results);\n                    };\n                    if (searchConfig.type === 'lunr') {\n                        const search = () => {\n                            if (lunr.queryHandler) query = lunr.queryHandler(query);\n                            const results = {};\n                            this._index.search(query).forEach(({ ref, matchData: { metadata } }) => {\n                                const matchData = this._indexData[ref];\n                                let { uri, title, content: context } = matchData;\n                                if (results[uri]) return;\n                                let position = 0;\n                                Object.values(metadata).forEach(({ content }) => {\n                                    if (content) {\n                                        const matchPosition = content.position[0][0];\n                                        if (matchPosition < position || position === 0) position = matchPosition;\n                                    }\n                                });\n                                position -= snippetLength / 5;\n                                if (position > 0) {\n                                    position += context.substr(position, 20).lastIndexOf(' ') + 1;\n                                    context = '...' + context.substr(position, snippetLength);\n                                } else {\n                                    context = context.substr(0, snippetLength);\n                                }\n                                Object.keys(metadata).forEach(key => {\n                                    title = title.replace(new RegExp(`(${key})`, 'gi'), `<${highlightTag}>$1</${highlightTag}>`);\n                                    context = context.replace(new RegExp(`(${key})`, 'gi'), `<${highlightTag}>$1</${highlightTag}>`);\n                                });\n                                results[uri] = {\n                                    'uri': uri,\n                                    'title' : title,\n                                    'date' : matchData.date,\n                                    'context' : context,\n                                };\n                            });\n                            return Object.values(results).slice(0, maxResultLength);\n                        }\n                        if (!this._index) {\n                            fetch(searchConfig.lunrIndexURL)\n                                .then(response => response.json())\n                                .then(data => {\n                                    const indexData = {};\n                                    this._index = lunr(function () {\n                                        if (searchConfig.lunrLanguageCode) this.use(lunr[searchConfig.lunrLanguageCode]);\n                                        this.ref('objectID');\n                                        this.field('title', { boost: 50 });\n                                        this.field('tags', { boost: 20 });\n                                        this.field('categories', { boost: 20 });\n                                        this.field('content', { boost: 10 });\n                                        this.metadataWhitelist = ['position'];\n                                        data.forEach((record) => {\n                                            indexData[record.objectID] = record;\n                                            this.add(record);\n                                        });\n                                    });\n                                    this._indexData = indexData;\n                                    finish(search());\n                                }).catch(err => {\n                                    console.error(err);\n                                    finish([]);\n                                });\n                        } else finish(search());\n                    } else if (searchConfig.type === 'algolia') {\n                        this._algoliaIndex = this._algoliaIndex || algoliasearch(searchConfig.algoliaAppID, searchConfig.algoliaSearchKey).initIndex(searchConfig.algoliaIndex);\n                        this._algoliaIndex\n                            .search(query, {\n                                offset: 0,\n                                length: maxResultLength * 8,\n                                attributesToHighlight: ['title'],\n                                attributesToSnippet: [`content:${snippetLength}`],\n                                highlightPreTag: `<${highlightTag}>`,\n                                highlightPostTag: `</${highlightTag}>`,\n                            })\n                            .then(({ hits }) => {\n                                const results = {};\n                                hits.forEach(({ uri, date, _highlightResult: { title }, _snippetResult: { content } }) => {\n                                    if (results[uri] && results[uri].context.length > content.value) return;\n                                    results[uri] = {\n                                        uri: uri,\n                                        title: title.value,\n                                        date: date,\n                                        context: content.value,\n                                    };\n                                });\n                                finish(Object.values(results).slice(0, maxResultLength));\n                            })\n                            .catch(err => {\n                                console.error(err);\n                                finish([]);\n                            });\n                    }\n                },\n                templates: {\n                    suggestion: ({ title, date, context }) => `<div><span class=\"suggestion-title\">${title}</span><span class=\"suggestion-date\">${date}</span></div><div class=\"suggestion-context\">${context}</div>`,\n                    empty: ({ query }) => `<div class=\"search-empty\">${searchConfig.noResultsFound}: <span class=\"search-query\">\"${query}\"</span></div>`,\n                    footer: ({}) => {\n                        const { searchType, icon, href } = searchConfig.type === 'algolia' ? {\n                            searchType: 'algolia',\n                            icon: '<i class=\"fab fa-algolia fa-fw\"></i>',\n                            href: 'https://www.algolia.com/',\n                        } : {\n                            searchType: 'Lunr.js',\n                            icon: '',\n                            href: 'https://lunrjs.com/',\n                        };\n                        return `<div class=\"search-footer\">Search by <a href=\"${href}\" rel=\"noopener noreffer\" target=\"_blank\">${icon} ${searchType}</a></div>`;},\n                },\n            });\n            autosearch.on('autocomplete:selected', (_event, suggestion, _dataset, _context) => {\n                window.location.assign(suggestion.uri);\n            });\n            if (isMobile) this._searchMobile = autosearch;\n            else this._searchDesktop = autosearch;\n        };\n        if (searchConfig.lunrSegmentitURL && !document.getElementById('lunr-segmentit')) {\n            const script = document.createElement('script');\n            script.id = 'lunr-segmentit';\n            script.type = 'text/javascript';\n            script.src = searchConfig.lunrSegmentitURL;\n            script.async = true;\n            if (script.readyState) {\n                script.onreadystatechange = () => {\n                    if (script.readyState == 'loaded' || script.readyState == 'complete'){\n                        script.onreadystatechange = null;\n                        initAutosearch();\n                    }\n                };\n            } else {\n                script.onload = () => {\n                    initAutosearch();\n                };\n            }\n            document.body.appendChild(script);\n        } else initAutosearch();\n    }\n\n    initDetails() {\n        this.util.forEach(document.getElementsByClassName('details'), $details => {\n            const $summary = $details.getElementsByClassName('details-summary')[0];\n            $summary.addEventListener('click', () => {\n                $details.classList.toggle('open');\n            }, false);\n        });\n    }\n\n    initLightGallery() {\n        if (this.config.lightGallery) lightGallery(document.getElementById('content'), this.config.lightGallery);\n    }\n\n    initHighlight() {\n        this.util.forEach(document.querySelectorAll('.highlight > pre.chroma'), $preChroma => {\n            const $chroma = document.createElement('div');\n            $chroma.className = $preChroma.className;\n            const $table = document.createElement('table');\n            $chroma.appendChild($table);\n            const $tbody = document.createElement('tbody');\n            $table.appendChild($tbody);\n            const $tr = document.createElement('tr');\n            $tbody.appendChild($tr);\n            const $td = document.createElement('td');\n            $tr.appendChild($td);\n            $preChroma.parentElement.replaceChild($chroma, $preChroma);\n            $td.appendChild($preChroma);\n        });\n        this.util.forEach(document.querySelectorAll('.highlight > .chroma'), $chroma => {\n            const $codeElements = $chroma.querySelectorAll('pre.chroma > code');\n            if ($codeElements.length) {\n                const $code = $codeElements[$codeElements.length - 1];\n                const $header = document.createElement('div');\n                $header.className = 'code-header ' + $code.className.toLowerCase();\n                const $title = document.createElement('span');\n                $title.classList.add('code-title');\n                $title.insertAdjacentHTML('afterbegin', '<i class=\"arrow fas fa-chevron-right fa-fw\"></i>');\n                $title.addEventListener('click', () => {\n                    $chroma.classList.toggle('open');\n                }, false);\n                $header.appendChild($title);\n                const $ellipses = document.createElement('span');\n                $ellipses.insertAdjacentHTML('afterbegin', '<i class=\"fas fa-ellipsis-h fa-fw\"></i>');\n                $ellipses.classList.add('ellipses');\n                $ellipses.addEventListener('click', () => {\n                    $chroma.classList.add('open');\n                }, false);\n                $header.appendChild($ellipses);\n                const $copy = document.createElement('span');\n                $copy.insertAdjacentHTML('afterbegin', '<i class=\"far fa-copy fa-fw\"></i>');\n                $copy.classList.add('copy');\n                const code = $code.innerText;\n                if (this.config.code.maxShownLines < 0 || code.split('\\n').length < this.config.code.maxShownLines + 2) $chroma.classList.add('open');\n                if (this.config.code.copyTitle) {\n                    $copy.setAttribute('data-clipboard-text', code);\n                    $copy.title = this.config.code.copyTitle;\n                    const clipboard = new ClipboardJS($copy);\n                    clipboard.on('success', _e => {\n                        this.util.animateCSS($code, 'flash');\n                    });\n                    $header.appendChild($copy);\n                }\n                $chroma.insertBefore($header, $chroma.firstChild);\n            }\n        });\n    }\n\n    initTable() {\n        this.util.forEach(document.querySelectorAll('.content table'), $table => {\n            const $wrapper = document.createElement('div');\n            $wrapper.className = 'table-wrapper';\n            $table.parentElement.replaceChild($wrapper, $table);\n            $wrapper.appendChild($table);\n        });\n    }\n\n    initHeaderLink() {\n        for (let num = 1; num <= 6; num++) {\n            this.util.forEach(document.querySelectorAll('.single .content > h' + num), $header => {\n                $header.classList.add('headerLink');\n                $header.insertAdjacentHTML('afterbegin', `<a href=\"#${$header.id}\" class=\"header-mark\"></a>`);\n            });\n        }\n    }\n\n    initToc() {\n        const $tocCore = document.getElementById('TableOfContents');\n        if ($tocCore === null) return;\n        if (document.getElementById('toc-static').getAttribute('kept') || this.util.isTocStatic()) {\n            const $tocContentStatic = document.getElementById('toc-content-static');\n            if ($tocCore.parentElement !== $tocContentStatic) {\n                $tocCore.parentElement.removeChild($tocCore);\n                $tocContentStatic.appendChild($tocCore);\n            }\n            if (this._tocOnScroll) this.scrollEventSet.delete(this._tocOnScroll);\n        } else {\n            const $tocContentAuto = document.getElementById('toc-content-auto');\n            if ($tocCore.parentElement !== $tocContentAuto) {\n                $tocCore.parentElement.removeChild($tocCore);\n                $tocContentAuto.appendChild($tocCore);\n            }\n            const $toc = document.getElementById('toc-auto');\n            const $page = document.getElementsByClassName('page')[0];\n            const rect = $page.getBoundingClientRect();\n            $toc.style.left = `${rect.left + rect.width + 20}px`;\n            $toc.style.maxWidth = `${$page.getBoundingClientRect().left - 20}px`;\n            $toc.style.visibility = 'visible';\n            const $tocLinkElements = $tocCore.querySelectorAll('a:first-child');\n            const $tocLiElements = $tocCore.getElementsByTagName('li');\n            const $headerLinkElements = document.getElementsByClassName('headerLink');\n            const headerIsFixed = document.body.getAttribute('header-desktop') !== 'normal';\n            const headerHeight = document.getElementById('header-desktop').offsetHeight;\n            const TOP_SPACING = 20 + (headerIsFixed ? headerHeight : 0);\n            const minTocTop = $toc.offsetTop;\n            const minScrollTop = minTocTop - TOP_SPACING + (headerIsFixed ? 0 : headerHeight);\n            this._tocOnScroll = this._tocOnScroll || (() => {\n                const footerTop = document.getElementById('post-footer').offsetTop;\n                const maxTocTop = footerTop - $toc.getBoundingClientRect().height;\n                const maxScrollTop = maxTocTop - TOP_SPACING + (headerIsFixed ? 0 : headerHeight);\n                if (this.newScrollTop < minScrollTop) {\n                    $toc.style.position = 'absolute';\n                    $toc.style.top = `${minTocTop}px`;\n                } else if (this.newScrollTop > maxScrollTop) {\n                    $toc.style.position = 'absolute';\n                    $toc.style.top = `${maxTocTop}px`;\n                } else {\n                    $toc.style.position = 'fixed';\n                    $toc.style.top = `${TOP_SPACING}px`;\n                }\n\n                this.util.forEach($tocLinkElements, $tocLink => { $tocLink.classList.remove('active'); });\n                this.util.forEach($tocLiElements, $tocLi => { $tocLi.classList.remove('has-active'); });\n                const INDEX_SPACING = 20 + (headerIsFixed ? headerHeight : 0);\n                let activeTocIndex = $headerLinkElements.length - 1;\n                for (let i = 0; i < $headerLinkElements.length - 1; i++) {\n                    const thisTop = $headerLinkElements[i].getBoundingClientRect().top;\n                    const nextTop = $headerLinkElements[i + 1].getBoundingClientRect().top;\n                    if ((i == 0 && thisTop > INDEX_SPACING)\n                     || (thisTop <= INDEX_SPACING && nextTop > INDEX_SPACING)) {\n                        activeTocIndex = i;\n                        break;\n                    }\n                }\n                if (activeTocIndex !== -1) {\n                    $tocLinkElements[activeTocIndex].classList.add('active');\n                    let $parent = $tocLinkElements[activeTocIndex].parentElement;\n                    while ($parent !== $tocCore) {\n                        $parent.classList.add('has-active');\n                        $parent = $parent.parentElement.parentElement;\n                    }\n                }\n            });\n            this._tocOnScroll();\n            this.scrollEventSet.add(this._tocOnScroll);\n        }\n    }\n\n    initMath() {\n        if (this.config.math) renderMathInElement(document.body, this.config.math);\n    }\n\n    initMermaid() {\n        const $mermaidElements = document.getElementsByClassName('mermaid');\n        if ($mermaidElements.length) {\n            mermaid.initialize({startOnLoad: false, theme: 'null'});\n            this.util.forEach($mermaidElements, $mermaid => {\n                mermaid.mermaidAPI.render('svg-' + $mermaid.id, this.data[$mermaid.id], svgCode => {\n                    $mermaid.insertAdjacentHTML('afterbegin', svgCode);\n                }, $mermaid);\n            });\n        }\n    }\n\n    initEcharts() {\n        this._echartsOnSwitchTheme = this._echartsOnSwitchTheme || (() => {\n            this._echartsArr = this._echartsArr || [];\n            for (let i = 0; i < this._echartsArr.length; i++) {\n                this._echartsArr[i].dispose();\n            }\n            this._echartsArr = [];\n            this.util.forEach(document.getElementsByClassName('echarts'), $echarts => {\n                const chart = echarts.init($echarts, this.isDark ? 'dark' : 'macarons', {renderer: 'svg'});\n                chart.setOption(JSON.parse(this.data[$echarts.id]));\n                this._echartsArr.push(chart);\n            });\n        });\n        this.switchThemeEventSet.add(this._echartsOnSwitchTheme);\n        this._echartsOnSwitchTheme();\n        this._echartsOnResize = this._echartsOnResize || (() => {\n            for (let i = 0; i < this._echartsArr.length; i++) {\n                this._echartsArr[i].resize();\n            }\n        });\n        this.resizeEventSet.add(this._echartsOnResize);\n    }\n\n    initMapbox() {\n        if (this.config.mapbox) {\n            mapboxgl.accessToken = this.config.mapbox.accessToken;\n            mapboxgl.setRTLTextPlugin(this.config.mapbox.RTLTextPlugin);\n            this._mapboxArr = this._mapboxArr || [];\n            this.util.forEach(document.getElementsByClassName('mapbox'), $mapbox => {\n                const { lng, lat, zoom, lightStyle, darkStyle, marked, navigation, geolocate, scale, fullscreen } = this.data[$mapbox.id];\n                const mapbox = new mapboxgl.Map({\n                    container: $mapbox,\n                    center: [lng, lat],\n                    zoom: zoom,\n                    minZoom: .2,\n                    style: this.isDark ? darkStyle : lightStyle,\n                    attributionControl: false,\n                });\n                if (marked) {\n                    new mapboxgl.Marker().setLngLat([lng, lat]).addTo(mapbox);\n                }\n                if (navigation) {\n                    mapbox.addControl(new mapboxgl.NavigationControl(), 'bottom-right');\n                }\n                if (geolocate) {\n                    mapbox.addControl(new mapboxgl.GeolocateControl({\n                        positionOptions: {\n                            enableHighAccuracy: true,\n                        },\n                        showUserLocation: true,\n                        trackUserLocation: true,\n                    }), 'bottom-right');\n                }\n                if (scale) {\n                    mapbox.addControl(new mapboxgl.ScaleControl());\n                }\n                if (fullscreen) {\n                    mapbox.addControl(new mapboxgl.FullscreenControl());\n                }\n                mapbox.addControl(new MapboxLanguage());\n                this._mapboxArr.push(mapbox);\n            });\n            this._mapboxOnSwitchTheme = this._mapboxOnSwitchTheme || (() => {\n                this.util.forEach(this._mapboxArr, mapbox => {\n                    const $mapbox = mapbox.getContainer();\n                    const { lightStyle, darkStyle } = this.data[$mapbox.id];\n                    mapbox.setStyle(this.isDark ? darkStyle : lightStyle);\n                    mapbox.addControl(new MapboxLanguage());\n                });\n            });\n            this.switchThemeEventSet.add(this._mapboxOnSwitchTheme);\n        }\n    }\n\n    initTypeit() {\n        if (this.config.typeit) {\n            const typeitConfig = this.config.typeit;\n            const speed = typeitConfig.speed ? typeitConfig.speed : 100;\n            const cursorSpeed = typeitConfig.cursorSpeed ? typeitConfig.cursorSpeed : 1000;\n            const cursorChar = typeitConfig.cursorChar ? typeitConfig.cursorChar : '|';\n            Object.values(typeitConfig.data).forEach(group => {\n                const typeone = (i) => {\n                    const id = group[i];\n                    const instance = new TypeIt(`#${id}`, {\n                        strings: this.data[id],\n                        speed: speed,\n                        lifeLike: true,\n                        cursorSpeed: cursorSpeed,\n                        cursorChar: cursorChar,\n                        waitUntilVisible: true,\n                        afterComplete: () => {\n                            if (i === group.length - 1) {\n                                if (typeitConfig.duration >= 0) window.setTimeout(() => {\n                                    instance.destroy();\n                                }, typeitConfig.duration);\n                                return;\n                            }\n                            instance.destroy();\n                            typeone(i + 1);\n                        },\n                    }).go();\n                };\n                typeone(0);\n            });\n        }\n    }\n\n    initComment() {\n        if (this.config.comment) {\n            if (this.config.comment.gitalk) {\n                this.config.comment.gitalk.body = decodeURI(window.location.href);\n                const gitalk = new Gitalk(this.config.comment.gitalk);\n                gitalk.render('gitalk');\n            }\n            if (this.config.comment.valine) new Valine(this.config.comment.valine);\n            if (this.config.comment.utterances) {\n                const utterancesConfig = this.config.comment.utterances;\n                const script = document.createElement('script');\n                script.src = 'https://utteranc.es/client.js';\n                script.type = 'text/javascript';\n                script.setAttribute('repo', utterancesConfig.repo);\n                script.setAttribute('issue-term', utterancesConfig.issueTerm);\n                if (utterancesConfig.label) script.setAttribute('label', utterancesConfig.label);\n                script.setAttribute('theme', this.isDark ? utterancesConfig.darkTheme : utterancesConfig.lightTheme);\n                script.crossOrigin = 'anonymous';\n                script.async = true;\n                document.getElementById('utterances').appendChild(script);\n                this._utterancesOnSwitchTheme = this._utterancesOnSwitchTheme || (() => {\n                    const message = {\n                        type: 'set-theme',\n                        theme: this.isDark ? utterancesConfig.darkTheme : utterancesConfig.lightTheme,\n                    };\n                    const iframe = document.querySelector('.utterances-frame');\n                    iframe.contentWindow.postMessage(message, 'https://utteranc.es');\n                });\n                this.switchThemeEventSet.add(this._utterancesOnSwitchTheme);\n            }\n        }\n    }\n\n    initSmoothScroll() {\n        if (SmoothScroll) new SmoothScroll('[href^=\"#\"]', { speed: 300, speedAsDuration: true, header: '#header-desktop' });\n    }\n\n    initCookieconsent() {\n        if (this.config.cookieconsent) cookieconsent.initialise(this.config.cookieconsent);\n    }\n\n    onScroll() {\n        const $headers = [];\n        if (document.body.getAttribute('header-desktop') === 'auto') $headers.push(document.getElementById('header-desktop'));\n        if (document.body.getAttribute('header-mobile') === 'auto') $headers.push(document.getElementById('header-mobile'));\n        if (document.getElementById('comments')) {\n            const $viewComments = document.getElementById('view-comments');\n            $viewComments.href = `#comments`;\n            $viewComments.style.display = 'block';\n        }\n        const $fixedButtons = document.getElementById('fixed-buttons');\n        const ACCURACY = 20, MINIMUM = 100;\n        window.addEventListener('scroll', () => {\n            this.newScrollTop = this.util.getScrollTop();\n            const scroll = this.newScrollTop - this.oldScrollTop;\n            const isMobile = this.util.isMobile();\n            this.util.forEach($headers, $header => {\n                if (scroll > ACCURACY) {\n                    $header.classList.remove('fadeInDown');\n                    this.util.animateCSS($header, ['fadeOutUp', 'faster'], true);\n                } else if (scroll < - ACCURACY) {\n                    $header.classList.remove('fadeOutUp');\n                    this.util.animateCSS($header, ['fadeInDown', 'faster'], true);\n                }\n            });\n            if (this.newScrollTop > MINIMUM) {\n                if (isMobile && scroll > ACCURACY) {\n                    $fixedButtons.classList.remove('fadeIn');\n                    this.util.animateCSS($fixedButtons, ['fadeOut', 'faster'], true);\n                } else if (!isMobile || scroll < - ACCURACY) {\n                    $fixedButtons.style.display = 'block';\n                    $fixedButtons.classList.remove('fadeOut');\n                    this.util.animateCSS($fixedButtons, ['fadeIn', 'faster'], true);\n                }\n            } else {\n                if (!isMobile) {\n                    $fixedButtons.classList.remove('fadeIn');\n                    this.util.animateCSS($fixedButtons, ['fadeOut', 'faster'], true);\n                }\n                $fixedButtons.style.display = 'none';\n            }\n            for (let event of this.scrollEventSet) event();\n            this.oldScrollTop = this.newScrollTop;\n        }, false);\n    }\n\n    onResize() {\n        window.addEventListener('resize', () => {\n            if (!this._resizeTimeout) {\n                this._resizeTimeout = window.setTimeout(() => {\n                    this._resizeTimeout = null;\n                    for (let event of this.resizeEventSet) event();\n                    this.initToc();\n                    this.initMermaid();\n                    this.initSearch();\n                }, 100);\n            }\n        }, false);\n    }\n\n    onClickMask() {\n        document.getElementById('mask').addEventListener('click', () => {\n            for (let event of this.clickMaskEventSet) event();\n            document.body.classList.remove('blur');\n        }, false);\n    }\n\n    init() {\n        try {\n            this.initSVGIcon();\n            this.initTwemoji();\n            this.initMenuMobile();\n            this.initSwitchTheme();\n            this.initSearch();\n            this.initDetails();\n            this.initLightGallery();\n            this.initHighlight();\n            this.initTable();\n            this.initHeaderLink();\n            this.initSmoothScroll();\n            this.initMath();\n            this.initMermaid();\n            this.initEcharts();\n            this.initTypeit();\n            this.initMapbox();\n            this.initCookieconsent();\n        } catch (err) {\n            console.error(err);\n        }\n\n        window.setTimeout(() => {\n            this.initToc();\n            this.initComment();\n\n            this.onScroll();\n            this.onResize();\n            this.onClickMask();\n        }, 100);\n    }\n}\n\nconst themeInit = () => {\n    const theme = new Theme();\n    theme.init();\n};\n\nif (document.readyState !== 'loading') {\n    themeInit();\n} else {\n    document.addEventListener('DOMContentLoaded', themeInit, false);\n}\n"],"mappings":"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"}